{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///D:/Web%20Dev%20All%20Projects/PORTFOLIOS/portfolio-2025/app/api/contact/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport nodemailer from 'nodemailer';\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const { name, email, subject, message } = await req.json();\r\n\r\n    if (!name || !email || !subject || !message) {\r\n      return NextResponse.json({ success: false, error: 'All fields are required' }, { status: 400 });\r\n    }\r\n\r\n    // ‚ùå Only declare transporter ONCE\r\n    const transporter = nodemailer.createTransport({\r\n      host: 'smtp.gmail.com',\r\n      port: 465,\r\n      secure: true,\r\n      auth: {\r\n        user: process.env.GMAIL_USER,\r\n        pass: process.env.GMAIL_APP_PASSWORD,\r\n      },\r\n      tls: {\r\n        rejectUnauthorized: process.env.NODE_ENV === 'production', // ignore self-signed certs only in dev\r\n      },\r\n    });\r\n\r\n    await transporter.sendMail({\r\n      from: process.env.GMAIL_USER,\r\n      to: process.env.GMAIL_USER, // change to recipient\r\n      subject,\r\n      html: `\r\n        <p><strong>Name:</strong> ${name}</p>\r\n        <p><strong>Email:</strong> ${email}</p>\r\n        <p><strong>Message:</strong> ${message}</p>\r\n      `,\r\n    });\r\n\r\n    return NextResponse.json({ success: true });\r\n  } catch (error: any) {\r\n    console.error('Error sending email:', error);\r\n    return NextResponse.json({ success: false, error: error.message || 'Internal Server Error' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAExD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS;YAC3C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAO,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC/F;QAEA,kCAAkC;QAClC,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC7C,MAAM;YACN,MAAM;YACN,QAAQ;YACR,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,kBAAkB;YACtC;YACA,KAAK;gBACH,oBAAoB,oDAAyB;YAC/C;QACF;QAEA,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI,QAAQ,GAAG,CAAC,UAAU;YAC1B;YACA,MAAM,CAAC;kCACqB,EAAE,KAAK;mCACN,EAAE,MAAM;qCACN,EAAE,QAAQ;MACzC,CAAC;QACH;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO,IAAI;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC9G;AACF"}}]
}